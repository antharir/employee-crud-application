"use strict";(self.webpackChunkemp_application=self.webpackChunkemp_application||[]).push([[152],{1152:(w,c,s)=>{s.r(c),s.d(c,{EmployeeModule:()=>k});var m=s(9808),u=s(520),l=s(2382),d=s(8093),y=s(727),e=s(1223),h=s(2340);let E=(()=>{class i{constructor(t){this.httpClient=t,this.apiUrl=h.N.restapiinfo.endpoint_url+h.N.restapiinfo.resources.employee}getAllEmployeList(){return this.httpClient.get(this.apiUrl)}getEmployeeById(t){return this.httpClient.get(this.apiUrl+"/"+t)}newEmployee(t){return this.httpClient.post(this.apiUrl,t)}updateEmployee(t,o){return this.httpClient.put(this.apiUrl+"/"+t,o)}deleteEmployee(t){return this.httpClient.delete(this.apiUrl+"/"+t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function g(i,n){if(1&i&&(e.TgZ(0,"h1"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij("Employee info: ",null==t.employeeInfo?null:t.employeeInfo.firstName,"")}}function Z(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(null==t.employeeInfo?null:t.employeeInfo.firstName)}}function _(i,n){1&i&&(e.TgZ(0,"td"),e._UZ(1,"input",8),e.qZA())}function A(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(null==t.employeeInfo?null:t.employeeInfo.lastName)}}function b(i,n){1&i&&(e.TgZ(0,"td"),e._UZ(1,"input",9),e.qZA())}function T(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(null==t.employeeInfo?null:t.employeeInfo.email)}}function q(i,n){1&i&&(e.TgZ(0,"td"),e._UZ(1,"input",10),e.qZA())}function x(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(null==t.employeeInfo?null:t.employeeInfo.mobile)}}function C(i,n){1&i&&(e.TgZ(0,"td"),e._UZ(1,"input",11),e.qZA())}function v(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(null==t.employeeInfo?null:t.employeeInfo.salary)}}function N(i,n){1&i&&(e.TgZ(0,"td"),e._UZ(1,"input",12),e.qZA())}function U(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return p.editEmployee(p.employeeInfo.id)}),e._UZ(1,"span",14),e.qZA()}}function I(i,n){if(1&i&&(e.TgZ(0,"button",15),e._UZ(1,"span",16),e.qZA()),2&i){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)}}let a=(()=>{class i{constructor(t,o,p,r){this.router=t,this.route=o,this.employeeService=p,this.formbuilder=r,this.employeeForm=new l.cw({}),this.isEditAdd=!1,this.isEdit=!1,this.isAdd=!1,this.employeeSubscription=new y.w0}ngOnInit(){this.route.snapshot.data.isAdd?(this.isAdd=!0,this.isEditAdd=!0,this.createEmployeeForm()):(this.isEdit=this.route.snapshot.data.isEdit,this.refreshEmployeeInfo(this.route.snapshot.params.id))}refreshEmployeeInfo(t){this.employeeService.getEmployeeById(t).subscribe(o=>{this.employeeInfo=o,this.isEdit&&(this.isEditAdd=!0,this.createEmployeeForm(this.employeeInfo))})}createEmployeeForm(t){this.employeeForm=this.formbuilder.group({firstName:[(null==t?void 0:t.firstName)||"",[l.kI.required,l.kI.minLength(5)]],lastName:[(null==t?void 0:t.lastName)||"",[l.kI.required,l.kI.minLength(1)]],email:[(null==t?void 0:t.email)||"",[l.kI.required,l.kI.email]],mobile:[(null==t?void 0:t.mobile)||"",[l.kI.required,l.kI.minLength(10)]],salary:[(null==t?void 0:t.salary)||"",[l.kI.required]]})}ngOnDestroy(){this.employeeSubscription&&this.employeeSubscription.unsubscribe()}editEmployee(t){this.router.navigate(["edit"],{relativeTo:this.route})}saveEmployee(){this.isEdit?this.employeeService.updateEmployee(this.employeeInfo.id,this.employeeForm.value).subscribe(t=>{alert("Employee details updated"),this.redirectToEmployeeList()}):this.employeeService.newEmployee(this.employeeForm.value).subscribe(t=>{alert("New employee added with id "+t.id),this.redirectToEmployeeList()})}redirectToEmployeeList(){this.router.navigate(["auth","employee"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(E),e.Y36(l.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-employee-add-edit-display"]],decls:35,vars:14,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"table","table-striped"],["colspan","2",1,"text-center"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","submit","class","btn btn-success",3,"disabled",4,"ngIf"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-chevron-left"],["type","text","name","firstName","formControlName","firstName",1,"form-control"],["type","text","name","lastName","formControlName","lastName",1,"form-control"],["type","email","name","email","formControlName","email",1,"form-control"],["type","number","name","mobile","formControlName","mobile",1,"form-control"],["type","number","name","salary","formControlName","salary",1,"form-control"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-edit"],["type","submit",1,"btn","btn-success",3,"disabled"],["aria-hidden","true",1,"glyphicon","glyphicon-floppy-saved"]],template:function(t,o){1&t&&(e.YNc(0,g,2,1,"h1",0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){return o.saveEmployee()}),e.TgZ(2,"table",2),e.TgZ(3,"tbody"),e.TgZ(4,"tr"),e.TgZ(5,"th"),e._uU(6,"First Name"),e.qZA(),e.YNc(7,Z,2,1,"td",0),e.YNc(8,_,2,0,"td",0),e.qZA(),e.TgZ(9,"tr"),e.TgZ(10,"th"),e._uU(11,"Last Name"),e.qZA(),e.YNc(12,A,2,1,"td",0),e.YNc(13,b,2,0,"td",0),e.qZA(),e.TgZ(14,"tr"),e.TgZ(15,"th"),e._uU(16,"Email"),e.qZA(),e.YNc(17,T,2,1,"td",0),e.YNc(18,q,2,0,"td",0),e.qZA(),e.TgZ(19,"tr"),e.TgZ(20,"th"),e._uU(21,"Mobile"),e.qZA(),e.YNc(22,x,2,1,"td",0),e.YNc(23,C,2,0,"td",0),e.qZA(),e.TgZ(24,"tr"),e.TgZ(25,"th"),e._uU(26,"Salary"),e.qZA(),e.YNc(27,v,2,1,"td",0),e.YNc(28,N,2,0,"td",0),e.qZA(),e.TgZ(29,"tr"),e.TgZ(30,"th",3),e.YNc(31,U,2,0,"button",4),e.YNc(32,I,2,1,"button",5),e.TgZ(33,"button",6),e.NdJ("click",function(){return o.redirectToEmployeeList()}),e._UZ(34,"span",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",!!o.isEdit),e.xp6(1),e.Q6J("formGroup",o.employeeForm),e.xp6(6),e.Q6J("ngIf",!o.isEditAdd),e.xp6(1),e.Q6J("ngIf",!!o.isEditAdd),e.xp6(4),e.Q6J("ngIf",!o.isEditAdd),e.xp6(1),e.Q6J("ngIf",!!o.isEditAdd),e.xp6(4),e.Q6J("ngIf",!o.isEditAdd),e.xp6(1),e.Q6J("ngIf",!!o.isEditAdd),e.xp6(4),e.Q6J("ngIf",!o.isEditAdd),e.xp6(1),e.Q6J("ngIf",!!o.isEditAdd),e.xp6(4),e.Q6J("ngIf",!o.isEditAdd),e.xp6(1),e.Q6J("ngIf",!!o.isEditAdd),e.xp6(3),e.Q6J("ngIf",!o.isEditAdd),e.xp6(1),e.Q6J("ngIf",!!o.isEditAdd))},directives:[m.O5,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,l.wV],styles:[""]}),i})();function J(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",4),e.TgZ(14,"button",5),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().viewEmployee(r.id)}),e._UZ(15,"span",6),e.qZA(),e.TgZ(16,"button",7),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editEmployee(r.id)}),e._UZ(17,"span",8),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteEmployee(r.id)}),e._UZ(19,"span",10),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.firstName),e.xp6(2),e.Oqu(t.lastName),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.mobile),e.xp6(2),e.Oqu(t.salary)}}const L=[{path:"",component:(()=>{class i{constructor(t,o,p){this.employeeService=t,this.router=o,this.route=p,this.employeeSubscription=new y.w0,this.employeeList=[]}ngOnInit(){this.refereshEmployeeList()}refereshEmployeeList(){this.employeeSubscription=this.employeeService.getAllEmployeList().subscribe(t=>{this.employeeList=t})}addEmployee(){this.router.navigate(["add"],{relativeTo:this.route})}viewEmployee(t){this.router.navigate([t],{relativeTo:this.route})}editEmployee(t){this.router.navigate([t,"edit"],{relativeTo:this.route})}deleteEmployee(t){this.employeeService.deleteEmployee(t).subscribe(o=>{alert("Employee "+o.firstName+" deleted"),this.refereshEmployeeList()})}ngOnDestroy(){this.employeeSubscription&&this.employeeSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E),e.Y36(d.F0),e.Y36(d.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-employee-list"]],decls:21,vars:1,consts:[[1,"table","table-striped"],["type","button",1,"btn","btn-success",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-plus-sign"],[4,"ngFor","ngForOf"],[1,"actions"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-eye-open"],["type","button",1,"btn","btn-warning",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-edit"],["type","button",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"glyphicon","glyphicon-trash"]],template:function(t,o){1&t&&(e.TgZ(0,"table",0),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th"),e._uU(4,"Id"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"First Name"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Last Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Email"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Mobile"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Salary"),e.qZA(),e.TgZ(15,"th"),e._uU(16," Action "),e.TgZ(17,"button",1),e.NdJ("click",function(){return o.addEmployee()}),e._UZ(18,"span",2),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"tbody"),e.YNc(20,J,20,6,"tr",3),e.qZA(),e.qZA()),2&t&&(e.xp6(20),e.Q6J("ngForOf",o.employeeList))},directives:[m.sg],styles:[".actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}"]}),i})(),pathMatch:"full"},{path:"add",component:a,data:{isAdd:!0}},{path:":id",component:a,data:{isEdit:!1}},{path:":id/edit",component:a,data:{isEdit:!0}}];let F=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.Bz.forChild(L)],d.Bz]}),i})(),k=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,u.JF,l.UX,F]]}),i})()}}]);